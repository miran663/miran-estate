<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miran Estate - Admin Panel</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f0f2f5; }
        .admin-container { max-width: 500px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        h2 { color: #1a1a1a; text-align: center; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #e6b31e; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.3s; }
        button:hover { background: #c99d1a; }
        .back-link { display: block; text-align: center; margin-top: 20px; color: #666; text-decoration: none; }
    </style>
</head>
<body>

<div class="admin-container">
    <h2>üè† Yeni Elan Yerl…ô≈üdir</h2>
    <input type="text" id="title" placeholder="M…ônzilin adƒ± (m…ôs: 2 otaqlƒ± bina evi)">
    <input type="text" id="price" placeholder="Qiym…ôt (m…ôs: 85,000 AZN)">
    <input type="text" id="imgUrl" placeholder="≈û…ôkil adƒ± (m…ôs: bina1.jpg)">
    <button onclick="uploadToFirebase()">SAYTA ∆èLAV∆è ET</button>
    <a href="index.html" class="back-link">‚Üê Ana s…ôhif…ôy…ô bax</a>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAjT3bzjea5MbSNB_3oEqdxobVbUNxektA",
        authDomain: "miranestate-1e373.firebaseapp.com",
        projectId: "miranestate-1e373",
        storageBucket: "miranestate-1e373.firebasestorage.app",
        messagingSenderId: "748400359431",
        appId: "1:748400359431:web:60335b64f3710a956ad2a2"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.uploadToFirebase = async () => {
        const title = document.getElementById('title').value;
        const price = document.getElementById('price').value;
        const imgUrl = document.getElementById('imgUrl').value;

        if(title && price) {
            try {
                await addDoc(collection(db, "elanlar"), {
                    title: title,
                    price: price,
                    imgUrl: imgUrl,
                    date: new Date()
                });
                alert("Uƒüurla …ôlav…ô edildi!");
                document.getElementById('title').value = '';
                document.getElementById('price').value = '';
                document.getElementById('imgUrl').value = '';
            } catch (e) {
                alert("X…ôta ba≈ü verdi: " + e);
            }
        } else {
            alert("Z…ôhm…ôt olmasa xanalarƒ± doldurun!");
        }
    };
</script>
</body>
</html>